{% extends "library/base.html" %}


{% block content %}

<div class=page-header>
  <h1>Music Library</h1>
</div>

<div class=row>
  <div class=span3>
    <div>
      <b>Search</b>
      <form class=form-search method=get action=/search/>
          <input type=text class=search-query placeholder=Title name=title>
          <input type=text class=search-query placeholder=Composer name=composer>
          <input type=text class=search-query placeholder=Arranger name=arranger>
          <input type=text class=search-query placeholder=Comment name=comment>
      </form>
    </div>
  </div>

  <div class=span9>
    <div class=row>
      <ul class=thumbnails>
        {% for item in object_list %}
        <li class=span3>
          <div class=thumbnail>
            <ul class="breadcrumb">
              <li><a href="{{ item.drawer.cabinet.group.get_absolute_url }}">
                  {{ item.drawer.cabinet.group.shortname }}</a>
                <span class=divider>&gt;&gt;</span>
              </li>
              <li><a href="{{ item.drawer.cabinet.get_absolute_url }}">
                  {{ item.drawer.cabinet.number }}</a>
                <span class=divider>&gt;&gt;</span>
              </li>
              <li><a href="{{ item.drawer.get_absolute_url }}">
                  {{ item.drawer.number }}</a>
              </li>
            </ul>
              <h3>{{ item.title }}
                {% if item.subtitle %}<br><small>{{ item.subtitle }}</small>{% endif %}</h3>
            <div>
              <p>By
                {% for composer in item.composer.all %}
                <a href="{{ composer.get_absolute_url }}">{{ composer }}</a>
                {% if not forloop.last %} and<br> {% endif %}
                {% endfor %}
                {% if item.arranger.all %}
                <br>
                Arranged by
                {% for arranger in item.arranger.all %}
                <a href="{{ arranger.get_absolute_url }}">{{ arranger }}</a>
                {% if not forloop.last %} and<br> {% endif %}
                {% endfor %}
                {% endif %}
                <br>
                Catalog ID Number: <b>{{ item.id }}</b>
              </p>
            </div>
            <p class=btn-group><a href={{ item.get_absolute_url }} class="btn btn-info">View</a>
              <a href={{ item.get_edit_url }} class=btn>Edit</a>
            </p>
          </div>
        </li>
        {% endfor %}
      </ul>
    </div>


  {% if page_obj.has_other_pages %}
  <div class=row>
    <ul class=pager>
      <li class="previous {% if not page_obj.has_previous %}disabled{% endif %}">
        <a href="." title="First Page"><i class=icon-chevron-left></i> First</a>
      </li>
      <li class="previous {% if not page_obj.has_previous %}disabled{% endif %}">
        <a href="{% if page_obj.has_previous %}?page={{ page_obj.previous_page_number }}{% else %}#{% endif %}" title="Previous Page">Previous</a>
      </li> 
      <li class="next {% if not page_obj.has_next %}disabled{% endif %}">
        <a href="{% if page_obj.has_next %}?page=last{% else %}#{% endif %}" title="Last Page">Last <i class=icon-chevron-right></i></a>
      </li>
      <li class="next {% if not page_obj.has_next %}disabled{% endif %}">
        <a href="{% if page_obj.has_next %}?page={{ page_obj.next_page_number }}{% else %}#{% endif %}" title="Next Page">Next</a>
      </li>
    </ul>
  </div>
  {% endif %}
</div>
</div>
{% endblock %}
